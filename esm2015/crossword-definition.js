!function(){var e={f:{},m:{},r:function(s){var t=e.m[s];if(t)return t.m.exports;var i=e.f[s];return i?((t=e.m[s]={}).exports={},t.m={exports:t.exports},i(t.m,t.exports),t.m.exports):void 0}};e.f[0]=function(s,t){function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(e.r(1)),i(e.r(2)),i(e.r(3))},e.f[1]=function(e,s){Object.defineProperty(s,"__esModule",{value:!0});s.CrosswordCell=class{constructor(e){this.light=!1,this.hint=!1,void 0!=e.x&&(this.x=e.x),void 0!=e.y&&(this.y=e.y),void 0!=e.crossword&&(this.crossword=e.crossword),void 0!=e.light&&(this.light=e.light),void 0!=e.answer&&(this.answer=e.answer),void 0!=e.clueLabel&&(this.clueLabel=e.clueLabel),void 0!=e.acrossClue&&(this.acrossClue=e.acrossClue),void 0!=e.downClue&&(this.downClue=e.downClue),void 0!=e.acrossClueLetterIndex&&(this.acrossClueLetterIndex=e.acrossClueLetterIndex),void 0!=e.hint&&(this.hint=e.hint)}}},e.f[2]=function(e,s){Object.defineProperty(s,"__esModule",{value:!0});s.CrosswordClueDefinition=class{constructor(e){this.across=!1,this.cells=[],this.hints=[],void 0!=e.number&&(this.number=e.number),void 0!=e.answer&&(this.answer=e.answer),void 0!=e.x&&(this.x=e.x),void 0!=e.y&&(this.y=e.y),void 0!=e.across&&(this.across=e.across),void 0!=e.clue&&(this.clue=e.clue),void 0!=e.cells&&(this.cells=e.cells),void 0!=e.hints&&(this.hints=e.hints),this.code=this.number+(this.across?"a":"d")}}},e.f[3]=function(s,t){Object.defineProperty(t,"__esModule",{value:!0});const i=e.r(2),r=e.r(1);t.CrosswordDefinition=class{constructor(e){if(this.acrossClues=[],this.downClues=[],this.width=e.width,this.height=e.height,this.matrix=this.buildMatrix(),void 0===this.width||null===this.width||this.width<0||void 0===this.height||null===this.height||this.height<0)throw new Error("[CrosswordDefinition] The crossword bounds are invalid.");let s=e.acrossClues.concat(e.downClues);for(let t=0;t<s.length;t++){let r=s[t],o=t<e.acrossClues.length,n=new i.CrosswordClueDefinition({number:r.number,answer:r.answer,x:r.x-1,y:r.y-1,across:o,clue:r.clue,cells:[],hints:r.hints});if(this[o?"acrossClues":"downClues"].push(n),n.x<0||n.x>=this.width||n.y<0||n.y>=this.height)throw new Error(`[CrosswordDefinition] Clue ${n.code} doesn't start in the bounds.`);if(o){if(n.x+n.answer.length>this.width)throw new Error(`[CrosswordDefinition] Clue at (${n.x},${n.y}) '${n.answer}' exceeds horizontal bounds, width of ${this.width}.`)}else if(n.y+n.answer.length>this.height)throw new Error(`[CrosswordDefinition] Clue at (${n.x},${n.y}) '${n.answer}' exceeds vertical bounds, height of ${this.height}.`);let h=n.x,l=n.y;for(let e=0;e<n.answer.length;e++){let s=this.matrix[l][h];if(s.light=!0,s[o?"acrossClue":"downClue"]=n,s[o?"acrossClueLetterIndex":"downClueLetterIndex"]=e,n.cells.push(s),n.hints.length>0&&-1!=n.hints.indexOf(e+1)&&(s.hint=!0),n.answer){if(void 0!==s.answer&&" "!==s.answer&&s.answer!==n.answer[e]){let e=s.acrossClue.answer.split(""),t=s.acrossClueLetterIndex,i=s.downClue.answer.split(""),r=s.downClueLetterIndex;throw e.splice(t,0,"["),e.splice(t+2,0,"]"),e=e.join(""),i.splice(r,0,"["),i.splice(r+2,0,"]"),i=i.join(""),new Error(`[CrosswordDefinition] Clue ${n.code} answer at (${h+1}, ${l+1}) is not coherent with previous clue (${s.acrossClue.code}) answer. ${e} doesn't match with ${i}`)}s.answer=n.answer[e]}if(0===e){if(s.clueLabel&&s.clueLabel!==n.number)throw new Error(`[CrosswordDefinition] Clue at (${h+1}, ${l+1}) '${n.answer}' has a label which is inconsistent with another clue (${s.acrossClue.code}).`);s.clueLabel=n.number}o?h++:l++}}}buildMatrix(){let e=this.width,s=this.height,t=[];for(let i=0;i<s;i++){let s=[];for(let t=0;t<e;t++)s[t]=new r.CrosswordCell({crossword:this,x:t,y:i});t[i]=s}return t}toString(){let e="",s=this.matrix;for(let t=0,i=s.length;t<i;t++){let i=s[t];e+="\n";for(let s=0,t=i.length;s<t;s++)e+=i[s].answer||" "}return e}}};var s=e.r(0);if(s)for(var t in s)window[t]=s[t]}();