!function(){var e={f:{},m:{},r:function(s){var i=e.m[s];if(i)return i.m.exports;var r=e.f[s];return r?((i=e.m[s]={}).exports={},i.m={exports:i.exports},r(i.m,i.exports),i.m.exports):void 0}};e.f[0]=function(s,i){function r(e){for(var s in e)i.hasOwnProperty(s)||(i[s]=e[s])}Object.defineProperty(i,"__esModule",{value:!0}),r(e.r(1)),r(e.r(2)),r(e.r(3))},e.f[1]=function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){return function(e){this.light=!1,this.hint=!1,void 0!=e.x&&(this.x=e.x),void 0!=e.y&&(this.y=e.y),void 0!=e.crossword&&(this.crossword=e.crossword),void 0!=e.light&&(this.light=e.light),void 0!=e.answer&&(this.answer=e.answer),void 0!=e.clueLabel&&(this.clueLabel=e.clueLabel),void 0!=e.acrossClue&&(this.acrossClue=e.acrossClue),void 0!=e.downClue&&(this.downClue=e.downClue),void 0!=e.acrossClueLetterIndex&&(this.acrossClueLetterIndex=e.acrossClueLetterIndex),void 0!=e.hint&&(this.hint=e.hint)}}();s.CrosswordCell=i},e.f[2]=function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){return function(e){this.across=!1,this.cells=[],this.hints=[],void 0!=e.number&&(this.number=e.number),void 0!=e.answer&&(this.answer=e.answer),void 0!=e.x&&(this.x=e.x),void 0!=e.y&&(this.y=e.y),void 0!=e.across&&(this.across=e.across),void 0!=e.clue&&(this.clue=e.clue),void 0!=e.cells&&(this.cells=e.cells),void 0!=e.hints&&(this.hints=e.hints),this.code=this.number+(this.across?"a":"d")}}();s.CrosswordClueDefinition=i},e.f[3]=function(s,i){Object.defineProperty(i,"__esModule",{value:!0});var r=e.r(2),t=e.r(1),o=function(){function e(e){if(this.acrossClues=[],this.downClues=[],this.width=e.width,this.height=e.height,this.matrix=this.buildMatrix(),void 0===this.width||null===this.width||this.width<0||void 0===this.height||null===this.height||this.height<0)throw new Error("[CrosswordDefinition] The crossword bounds are invalid.");for(var s=e.acrossClues.concat(e.downClues),i=0;i<s.length;i++){var t=s[i],o=i<e.acrossClues.length,n=new r.CrosswordClueDefinition({number:t.number,answer:t.answer,x:t.x-1,y:t.y-1,across:o,clue:t.clue,cells:[],hints:t.hints});if(this[o?"acrossClues":"downClues"].push(n),n.x<0||n.x>=this.width||n.y<0||n.y>=this.height)throw new Error("[CrosswordDefinition] Clue "+n.code+" doesn't start in the bounds.");if(o){if(n.x+n.answer.length>this.width)throw new Error("[CrosswordDefinition] Clue at ("+n.x+","+n.y+") '"+n.answer+"' exceeds horizontal bounds, width of "+this.width+".")}else if(n.y+n.answer.length>this.height)throw new Error("[CrosswordDefinition] Clue at ("+n.x+","+n.y+") '"+n.answer+"' exceeds vertical bounds, height of "+this.height+".");for(var h=n.x,l=n.y,a=0;a<n.answer.length;a++){var u=this.matrix[l][h];if(u.light=!0,u[o?"acrossClue":"downClue"]=n,u[o?"acrossClueLetterIndex":"downClueLetterIndex"]=a,n.cells.push(u),n.hints.length>0&&-1!=n.hints.indexOf(a+1)&&(u.hint=!0),n.answer){if(void 0!==u.answer&&" "!==u.answer&&u.answer!==n.answer[a]){var d=u.acrossClue.answer.split(""),c=u.acrossClueLetterIndex,w=u.downClue.answer.split(""),f=u.downClueLetterIndex;throw d.splice(c,0,"["),d.splice(c+2,0,"]"),d=d.join(""),w.splice(f,0,"["),w.splice(f+2,0,"]"),w=w.join(""),new Error("[CrosswordDefinition] Clue "+n.code+" answer at ("+(h+1)+", "+(l+1)+") is not coherent with previous clue ("+u.acrossClue.code+") answer. "+d+" doesn't match with "+w)}u.answer=n.answer[a]}if(0===a){if(u.clueLabel&&u.clueLabel!==n.number)throw new Error("[CrosswordDefinition] Clue at ("+(h+1)+", "+(l+1)+") '"+n.answer+"' has a label which is inconsistent with another clue ("+u.acrossClue.code+").");u.clueLabel=n.number}o?h++:l++}}}return e.prototype.buildMatrix=function(){for(var e=this.width,s=this.height,i=[],r=0;r<s;r++){for(var o=[],n=0;n<e;n++)o[n]=new t.CrosswordCell({crossword:this,x:n,y:r});i[r]=o}return i},e.prototype.toString=function(){for(var e="",s=this.matrix,i=0,r=s.length;i<r;i++){var t=s[i];e+="\n";for(var o=0,n=t.length;o<n;o++){e+=t[o].answer||" "}}return e},e}();i.CrosswordDefinition=o};var s=e.r(0);if(s)for(var i in s)window[i]=s[i]}();